@page "/{SectionName}"

@using BudgetVisualization.Components
@using BudgetVisualization.Data


    <Message></Message>

    <div class="carousell-page">
        <div class="carousell-container">
            <div class="carousell">
                <h4>Community Services</h4>
                <MatList Style="padding:0px;">
                    @for (int i = 0; i < BudgetData.GetSection(SectionName).ProposedItems.Count; i++)
                    {
                        int ii = i;

                        var item = BudgetData.GetSection(SectionName).ProposedItems[ii];

                        string ItemStyle = (ii == rowLeftActiveIndex) ? selectedStyle : unselectedStyle;

                        <MatListItem Class="proposedItem" OnClick="(() => SetItemSelectedLeft(ii, item))" Style="@ItemStyle">
                            <ProposedBudgetItem itemData=item />
                        </MatListItem>
                    }
                </MatList>
            </div>

            @*Alignment messes up with sufficiently long text.*@
            <div class="carousell carousell-last">
                <h4>Police & Jails</h4>
                <MatList Style="padding: 0px;">
                    @for (int i = 0; i < BudgetData.GetCurrentComparedToSection().ProposedItems.Count; i++)
                    {
                        int ii = i;

                        var item = BudgetData.GetCurrentComparedToSection().ProposedItems[ii];

                        string ItemStyle = (ii == rowRightActiveIndex) ? selectedStyle : unselectedStyle;

                        <MatListItem Class="proposedItem" OnClick="(() => SetItemSelectedRight(ii, item))" Style="@ItemStyle">
                            <ProposedBudgetItem itemData=item />
                        </MatListItem>
                    }
                </MatList>
            </div>
        </div>
        <div class="carousell-result mat-elevation-z1">
            @if (rowRightItem != null && rowLeftItem != null)
            {
                <ComparisonResultStatic ComparisonText="@CurrentComparisonText" FirstImagePath="@rowRightItem.imageURL" SecondImagePath="@rowLeftItem.imageURL"></ComparisonResultStatic>
            }
            else
            {
                <ComparisonResultStatic ComparisonText="@CurrentComparisonText" FirstImagePath="" SecondImagePath=""></ComparisonResultStatic>
            }

        </div>

    </div>