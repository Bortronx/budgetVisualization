@page "/{SectionName}"

@using BudgetVisualization.Components
@using BudgetVisualization.Data


    <Message></Message>

    <div class="carousell-page">
        <div class="carousell-container">
            <div class="carousell">
                <MatList Style="padding:0px;">
                    @for (int i = 0; i < BudgetData.GetSection(SectionName).ProposedItems.Count; i++)
                    {
                        int ii = i;

                        var item = BudgetData.GetSection(SectionName).ProposedItems[ii];
                        <MatListItem Class="proposedItem" OnClick="(() => SetItemSelectedLeft(ii, item))">
                            <ProposedBudgetItem itemData=item />
                        </MatListItem>
                    }
                </MatList>
            </div>

            @*Alignment messes up with sufficiently long text.*@
            <div class="carousell carousell-last">
                <MatList Style="padding: 0px;">
                    @for(int i = 0; i < BudgetData.GetCurrentComparedToSection().ProposedItems.Count; i++)
                    {
                        int ii = i;

                        var item = BudgetData.GetCurrentComparedToSection().ProposedItems[ii];

                        string ItemStyle = (ii == rowRightActiveIndex) ? selectedStyle : unselectedStyle;

                        <MatListItem Class="proposedItem" OnClick="(() => SetItemSelectedRight(ii, item))" Style="@ItemStyle">
                        <ProposedBudgetItem itemData=item/>
                        </MatListItem>
                    }
                </MatList>
            </div>
        </div>
        <div class="carousell-result mat-elevation-z1">
            <ComparisonResult FirstSelection="Hello this is the first item" CalculatedValue="@CalculatedComparisonValue" ImagePath="https://picsum.photos/200/200" SecondSelection="Testing this text here"></ComparisonResult>
        </div>

    </div>